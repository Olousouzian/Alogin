<!doctype html>
<html>
  <head>
    <base href="../">
    <title>JSDoc: source : demo.controller.js</title>
    <link type="text/css" rel="stylesheet" href="css/jsdoc-default.css">
    <link href="css/prettify-tomorrow.css" type="text/css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,400,300,700" rel="stylesheet" type="text/css">
    <link href="css/custom.css" type="text/css" rel="stylesheet">
    <script src="js/prettify.js"></script>
    <script src="js/angular.min.js"></script>
  </head>
  <body ng-app="">
    <nav>
      <h2><a href="index.html" class="menu">Index</a></h2>
      <ul class="module">
        <!-- app -->
        <h3>
          <a href="" class="menu" ng-click="moduleapp = !moduleapp">
            module: app
          </a>
          <i ng-cloak="" ng-show="moduleapp">+</i>
        </h3>
        <li id="app" ng-hide="moduleapp">
          <ul class="group">
            <h3>
              <a href="" class="sousMenu" ng-click="appmodel = !appmodel">
                model
              </a>
              <i ng-cloak="" ng-show="appmodel">+</i>
            </h3>
            <ul ng-hide="appmodel">
              <li>
                <a href="app.AbstractCollection.html" class="className">AbstractCollection</a>
              </li><li>
                <a href="app.AbstractFile.html" class="className">AbstractFile</a>
              </li><li>
                <a href="app.Dimensions.html" class="className">Dimensions</a>
              </li><li>
                <a href="app.FileCollection.html" class="className">FileCollection</a>
              </li><li>
                <a href="app.FileFactory.html" class="className">FileFactory</a>
              </li><li>
                <a href="app.FileImage.html" class="className">FileImage</a>
              </li><li>
                <a href="app.MediaLibrary.html" class="className">MediaLibrary</a>
              </li>
            </ul>
          </ul><ul class="group">
            <h3>
              <a href="" class="sousMenu" ng-click="appdirective = !appdirective">
                directive
              </a>
              <i ng-cloak="" ng-show="appdirective">+</i>
            </h3>
            <ul ng-hide="appdirective">
              <li>
                <a href="app.alseedLanguage.html" class="className">alseedLanguage</a>
              </li>
            </ul>
          </ul><ul class="group">
            <h3>
              <a href="" class="sousMenu" ng-click="appmodule = !appmodule">
                module
              </a>
              <i ng-cloak="" ng-show="appmodule">+</i>
            </h3>
            <ul ng-hide="appmodule">
              <li>
                <a href="app.auth.html" class="className">auth</a>
              </li><li>
                <a href="app.cache.html" class="className">cache</a>
              </li><li>
                <a href="app.flash.html" class="className">flash</a>
              </li><li>
                <a href="app.media.html" class="className">media</a>
              </li><li>
                <a href="app.message.html" class="className">message</a>
              </li><li>
                <a href="app.navigation.html" class="className">navigation</a>
              </li><li>
                <a href="app.news.html" class="className">news</a>
              </li><li>
                <a href="app.push.html" class="className">push</a>
              </li><li>
                <a href="app.request.html" class="className">request</a>
              </li><li>
                <a href="app.search.html" class="className">search</a>
              </li><li>
                <a href="app.theme.html" class="className">theme</a>
              </li><li>
                <a href="app.translate.html" class="className">translate</a>
              </li><li>
                <a href="app.trees.html" class="className">trees</a>
              </li><li>
                <a href="app.upload.html" class="className">upload</a>
              </li><li>
                <a href="app.user.html" class="className">user</a>
              </li>
            </ul>
          </ul><ul class="group">
            <h3>
              <a href="" class="sousMenu" ng-click="appfilter = !appfilter">
                filter
              </a>
              <i ng-cloak="" ng-show="appfilter">+</i>
            </h3>
            <ul ng-hide="appfilter">
              <li>
                <a href="app.bytesFilter.html" class="className">bytesFilter</a>
              </li><li>
                <a href="app.translateFilter.html" class="className">translateFilter</a>
              </li>
            </ul>
          </ul><ul class="group">
            <h3>
              <a href="" class="sousMenu" ng-click="appcontroller = !appcontroller">
                controller
              </a>
              <i ng-cloak="" ng-show="appcontroller">+</i>
            </h3>
            <ul ng-hide="appcontroller">
              <li>
                <a href="app.DemoComplexModalController.html" class="className">DemoComplexModalController</a>
              </li><li>
                <a href="app.DemoController.html" class="className">DemoController</a>
              </li><li>
                <a href="app.DemoMediaDetailsModalController.html" class="className">DemoMediaDetailsModalController</a>
              </li><li>
                <a href="app.DemoSimpleModalController.html" class="className">DemoSimpleModalController</a>
              </li><li>
                <a href="app.ForgetController.html" class="className">ForgetController</a>
              </li><li>
                <a href="app.HomeController.html" class="className">HomeController</a>
              </li><li>
                <a href="app.loginController.html" class="className">loginController</a>
              </li><li>
                <a href="app.MediaModalController.html" class="className">MediaModalController</a>
              </li><li>
                <a href="app.MenuController.html" class="className">MenuController</a>
              </li><li>
                <a href="app.MessageAddController.html" class="className">MessageAddController</a>
              </li><li>
                <a href="app.MessageController.html" class="className">MessageController</a>
              </li><li>
                <a href="app.MessageEditController.html" class="className">MessageEditController</a>
              </li><li>
                <a href="app.ModalConfirmationController.html" class="className">ModalConfirmationController</a>
              </li><li>
                <a href="app.NavigationController.html" class="className">NavigationController</a>
              </li><li>
                <a href="app.NewsAddController.html" class="className">NewsAddController</a>
              </li><li>
                <a href="app.NewsController.html" class="className">NewsController</a>
              </li><li>
                <a href="app.NewsDeleteModalController.html" class="className">NewsDeleteModalController</a>
              </li><li>
                <a href="app.NewsEditController.html" class="className">NewsEditController</a>
              </li><li>
                <a href="app.NotFoundController.html" class="className">NotFoundController</a>
              </li><li>
                <a href="app.TreesController.html" class="className">TreesController</a>
              </li>
            </ul>
          </ul><ul class="group">
            <h3>
              <a href="" class="sousMenu" ng-click="appController = !appController">
                Controller
              </a>
              <i ng-cloak="" ng-show="appController">+</i>
            </h3>
            <ul ng-hide="appController">
              <li>
                <a href="app.project.html" class="className">project</a>
              </li>
            </ul>
          </ul>
        </li>
      </ul><ul class="module">
        <!-- app_auth -->
        <h3>
          <a href="" class="menu" ng-click="moduleapp_auth = !moduleapp_auth">
            module: app.auth
          </a>
          <i ng-cloak="" ng-show="moduleapp_auth">+</i>
        </h3>
        <li id="app.auth" ng-hide="moduleapp_auth">
          <ul class="group">
            <h3>
              <a href="" class="sousMenu" ng-click="app_authservice = !app_authservice">
                service
              </a>
              <i ng-cloak="" ng-show="app_authservice">+</i>
            </h3>
            <ul ng-hide="app_authservice">
              <li>
                <a href="app.auth.AuthentificationService.html" class="className">AuthentificationService</a>
              </li>
            </ul>
          </ul>
        </li>
      </ul><ul class="module">
        <!-- app_cache -->
        <h3>
          <a href="" class="menu" ng-click="moduleapp_cache = !moduleapp_cache">
            module: app.cache
          </a>
          <i ng-cloak="" ng-show="moduleapp_cache">+</i>
        </h3>
        <li id="app.cache" ng-hide="moduleapp_cache">
          <ul class="group">
            <h3>
              <a href="" class="sousMenu" ng-click="app_cacheservice = !app_cacheservice">
                service
              </a>
              <i ng-cloak="" ng-show="app_cacheservice">+</i>
            </h3>
            <ul ng-hide="app_cacheservice">
              <li>
                <a href="app.cache.CacheService.html" class="className">CacheService</a>
              </li>
            </ul>
          </ul>
        </li>
      </ul><ul class="module">
        <!-- app_flash -->
        <h3>
          <a href="" class="menu" ng-click="moduleapp_flash = !moduleapp_flash">
            module: app.flash
          </a>
          <i ng-cloak="" ng-show="moduleapp_flash">+</i>
        </h3>
        <li id="app.flash" ng-hide="moduleapp_flash">
          <ul class="group">
            <h3>
              <a href="" class="sousMenu" ng-click="app_flashservice = !app_flashservice">
                service
              </a>
              <i ng-cloak="" ng-show="app_flashservice">+</i>
            </h3>
            <ul ng-hide="app_flashservice">
              <li>
                <a href="app.flash.Flashservice.html" class="className">Flashservice</a>
              </li>
            </ul>
          </ul>
        </li>
      </ul><ul class="module">
        <!-- app_media -->
        <h3>
          <a href="" class="menu" ng-click="moduleapp_media = !moduleapp_media">
            module: app.media
          </a>
          <i ng-cloak="" ng-show="moduleapp_media">+</i>
        </h3>
        <li id="app.media" ng-hide="moduleapp_media">
          <ul class="group">
            <h3>
              <a href="" class="sousMenu" ng-click="app_mediaservice = !app_mediaservice">
                service
              </a>
              <i ng-cloak="" ng-show="app_mediaservice">+</i>
            </h3>
            <ul ng-hide="app_mediaservice">
              <li>
                <a href="app.media.MediaService.html" class="className">MediaService</a>
              </li>
            </ul>
          </ul>
        </li>
      </ul><ul class="module">
        <!-- app_message -->
        <h3>
          <a href="" class="menu" ng-click="moduleapp_message = !moduleapp_message">
            module: app.message
          </a>
          <i ng-cloak="" ng-show="moduleapp_message">+</i>
        </h3>
        <li id="app.message" ng-hide="moduleapp_message">
          <ul class="group">
            <h3>
              <a href="" class="sousMenu" ng-click="app_messageservice = !app_messageservice">
                service
              </a>
              <i ng-cloak="" ng-show="app_messageservice">+</i>
            </h3>
            <ul ng-hide="app_messageservice">
              <li>
                <a href="app.message.MessageService.html" class="className">MessageService</a>
              </li>
            </ul>
          </ul>
        </li>
      </ul><ul class="module">
        <!-- app_navigation -->
        <h3>
          <a href="" class="menu" ng-click="moduleapp_navigation = !moduleapp_navigation">
            module: app.navigation
          </a>
          <i ng-cloak="" ng-show="moduleapp_navigation">+</i>
        </h3>
        <li id="app.navigation" ng-hide="moduleapp_navigation">
          <ul class="group">
            <h3>
              <a href="" class="sousMenu" ng-click="app_navigationservice = !app_navigationservice">
                service
              </a>
              <i ng-cloak="" ng-show="app_navigationservice">+</i>
            </h3>
            <ul ng-hide="app_navigationservice">
              <li>
                <a href="app.navigation.NavigationService.html" class="className">NavigationService</a>
              </li>
            </ul>
          </ul>
        </li>
      </ul><ul class="module">
        <!-- app_news -->
        <h3>
          <a href="" class="menu" ng-click="moduleapp_news = !moduleapp_news">
            module: app.news
          </a>
          <i ng-cloak="" ng-show="moduleapp_news">+</i>
        </h3>
        <li id="app.news" ng-hide="moduleapp_news">
          <ul class="group">
            <h3>
              <a href="" class="sousMenu" ng-click="app_newsservice = !app_newsservice">
                service
              </a>
              <i ng-cloak="" ng-show="app_newsservice">+</i>
            </h3>
            <ul ng-hide="app_newsservice">
              <li>
                <a href="app.news.NewsService.html" class="className">NewsService</a>
              </li>
            </ul>
          </ul>
        </li>
      </ul><ul class="module">
        <!-- app_push -->
        <h3>
          <a href="" class="menu" ng-click="moduleapp_push = !moduleapp_push">
            module: app.push
          </a>
          <i ng-cloak="" ng-show="moduleapp_push">+</i>
        </h3>
        <li id="app.push" ng-hide="moduleapp_push">
          <ul class="group">
            <h3>
              <a href="" class="sousMenu" ng-click="app_pushservice = !app_pushservice">
                service
              </a>
              <i ng-cloak="" ng-show="app_pushservice">+</i>
            </h3>
            <ul ng-hide="app_pushservice">
              <li>
                <a href="app.push.PushService.html" class="className">PushService</a>
              </li>
            </ul>
          </ul>
        </li>
      </ul><ul class="module">
        <!-- app_request -->
        <h3>
          <a href="" class="menu" ng-click="moduleapp_request = !moduleapp_request">
            module: app.request
          </a>
          <i ng-cloak="" ng-show="moduleapp_request">+</i>
        </h3>
        <li id="app.request" ng-hide="moduleapp_request">
          <ul class="group">
            <h3>
              <a href="" class="sousMenu" ng-click="app_requestservice = !app_requestservice">
                service
              </a>
              <i ng-cloak="" ng-show="app_requestservice">+</i>
            </h3>
            <ul ng-hide="app_requestservice">
              <li>
                <a href="app.request.RequestService.html" class="className">RequestService</a>
              </li>
            </ul>
          </ul>
        </li>
      </ul><ul class="module">
        <!-- app_search -->
        <h3>
          <a href="" class="menu" ng-click="moduleapp_search = !moduleapp_search">
            module: app.search
          </a>
          <i ng-cloak="" ng-show="moduleapp_search">+</i>
        </h3>
        <li id="app.search" ng-hide="moduleapp_search">
          <ul class="group">
            <h3>
              <a href="" class="sousMenu" ng-click="app_searchservice = !app_searchservice">
                service
              </a>
              <i ng-cloak="" ng-show="app_searchservice">+</i>
            </h3>
            <ul ng-hide="app_searchservice">
              <li>
                <a href="app.search.SearchService.html" class="className">SearchService</a>
              </li>
            </ul>
          </ul>
        </li>
      </ul><ul class="module">
        <!-- app_theme -->
        <h3>
          <a href="" class="menu" ng-click="moduleapp_theme = !moduleapp_theme">
            module: app.theme
          </a>
          <i ng-cloak="" ng-show="moduleapp_theme">+</i>
        </h3>
        <li id="app.theme" ng-hide="moduleapp_theme">
          <ul class="group">
            <h3>
              <a href="" class="sousMenu" ng-click="app_themeservice = !app_themeservice">
                service
              </a>
              <i ng-cloak="" ng-show="app_themeservice">+</i>
            </h3>
            <ul ng-hide="app_themeservice">
              <li>
                <a href="app.theme.SearchService.html" class="className">SearchService</a>
              </li>
            </ul>
          </ul>
        </li>
      </ul><ul class="module">
        <!-- app_translate -->
        <h3>
          <a href="" class="menu" ng-click="moduleapp_translate = !moduleapp_translate">
            module: app.translate
          </a>
          <i ng-cloak="" ng-show="moduleapp_translate">+</i>
        </h3>
        <li id="app.translate" ng-hide="moduleapp_translate">
          <ul class="group">
            <h3>
              <a href="" class="sousMenu" ng-click="app_translateservice = !app_translateservice">
                service
              </a>
              <i ng-cloak="" ng-show="app_translateservice">+</i>
            </h3>
            <ul ng-hide="app_translateservice">
              <li>
                <a href="app.translate.TranslateService.html" class="className">TranslateService</a>
              </li>
            </ul>
          </ul>
        </li>
      </ul><ul class="module">
        <!-- app_trees -->
        <h3>
          <a href="" class="menu" ng-click="moduleapp_trees = !moduleapp_trees">
            module: app.trees
          </a>
          <i ng-cloak="" ng-show="moduleapp_trees">+</i>
        </h3>
        <li id="app.trees" ng-hide="moduleapp_trees">
          <ul class="group">
            <h3>
              <a href="" class="sousMenu" ng-click="app_treesservice = !app_treesservice">
                service
              </a>
              <i ng-cloak="" ng-show="app_treesservice">+</i>
            </h3>
            <ul ng-hide="app_treesservice">
              <li>
                <a href="app.trees.TreeService.html" class="className">TreeService</a>
              </li>
            </ul>
          </ul>
        </li>
      </ul><ul class="module">
        <!-- app_upload -->
        <h3>
          <a href="" class="menu" ng-click="moduleapp_upload = !moduleapp_upload">
            module: app.upload
          </a>
          <i ng-cloak="" ng-show="moduleapp_upload">+</i>
        </h3>
        <li id="app.upload" ng-hide="moduleapp_upload">
          <ul class="group">
            <h3>
              <a href="" class="sousMenu" ng-click="app_uploadservice = !app_uploadservice">
                service
              </a>
              <i ng-cloak="" ng-show="app_uploadservice">+</i>
            </h3>
            <ul ng-hide="app_uploadservice">
              <li>
                <a href="app.upload.Uploadservice.html" class="className">Uploadservice</a>
              </li>
            </ul>
          </ul>
        </li>
      </ul><ul class="module">
        <!-- app_user -->
        <h3>
          <a href="" class="menu" ng-click="moduleapp_user = !moduleapp_user">
            module: app.user
          </a>
          <i ng-cloak="" ng-show="moduleapp_user">+</i>
        </h3>
        <li id="app.user" ng-hide="moduleapp_user">
          <ul class="group">
            <h3>
              <a href="" class="sousMenu" ng-click="app_userservice = !app_userservice">
                service
              </a>
              <i ng-cloak="" ng-show="app_userservice">+</i>
            </h3>
            <ul ng-hide="app_userservice">
              <li>
                <a href="app.user.UserService.html" class="className">UserService</a>
              </li>
            </ul>
          </ul>
        </li>
      </ul>
    </nav>
    <div id="content" class="page-wrap">
      <h1 class="title">
        source : demo.controller.js
      </h1>
      <div id="main" class="big-container">
        <!-- source code html -->
        <article>
          <pre class="prettyprint source linenums"><code>(function () {
    'use strict';
    /**
     * @memberof app
     * @ngdoc controller
     * @name DemoController
     * @param ModalService Permit to display and manage modal (simple complex detail modal and  media modal)
     * @param FlashService Permit to display message on scope
     * @param ThemeService Permit to apply different theme following the case of using
     * @param Uploadservice Permit to upload file on server
     * @param rootscope Permit to access the global variable of the app
     * @description
     * Controller permit to see lot of function implement on app like modal.managing theme, upload file
     */
    angular
        .module('app')
        .controller('DemoController', DemoController);
    DemoController.$inject = ['ModalService', 'FlashService', 'ThemeService','UploadService', '$rootScope'];
    function DemoController(ModalService, FlashService, ThemeService, UploadService, $rootScope) {
        var vm = this;
        /**
         * Permit to display simple modal and define Behavior to the closure
         * @memberof DemoController
         */
        vm.showSimpleModal = function() {
            ModalService.showModal({
                templateUrl: "modal/modal-simple-view.html",
                controller: "DemoSimpleModalController"
            }).then(function(modal) {
                modal.element.modal();
                modal.close.then(function(result) {
                    if (result) {
                        FlashService.Success('You choose "Yes"');
                    }
                    else {
                        FlashService.Error('You choose "No"');
                    }
                });
            }).catch(function(error) {
                FlashService.Error('Error : ' + error);
            });
        }
        /**
         * Permit to display media modal and define Behavior to the closure
         * @memberof DemoController
         */
        vm.showMediaModal = function(){
            ModalService.showModal({
                templateUrl: "modal/modal-media-view.html",
                controller: "MediaModalController",
                inputs: {
                    title: "Complex Example",
                    submitButton: "OK",
                    cancelButton: "Cancel"
                }
            }).then(function(modal) {
                modal.element.modal();
                modal.close.then(function(result) {
                    if (result) {
                        FlashService.Success('image has been select');
                    }
                    else {
                        FlashService.Error('You close modal');
                    }
                });
            }).catch(function(error) {
                FlashService.Error('Error : ' + error);
            });
        }
        /**
         * Permit to display complex modal and define Behavior to the closure
         * @memberof DemoController
         */
        vm.showComplexModal = function() {
            ModalService.showModal({
                templateUrl: "modal/modal-complex-view.html",
                controller: "DemoComplexModalController",
                inputs: {
                    title: "Complex Example",
                    submitButton: "OK",
                    cancelButton: "Cancel"
                }
            }).then(function(modal) {
                modal.element.modal();
                modal.close.then(function(result) {
                    if (result) {
                        FlashService.Success('You validate modal with info : name = ' + result.name + ', age = ' + result.age);
                    }
                    else {
                        FlashService.Error('You close modal');
                    }
                });
            }).catch(function(error) {
                FlashService.Error('Error : ' + error);
            });
        }
        /**
         * Permit to upload a file
         * @memberof DemoController
         * @param {File} file
         */
        vm.uploadFile=function(file){
            UploadService.UploadFile(file).then(function (response) {
                if (response.success === true) {
                    FlashService.Success(response.data);
                }
                else {
                    FlashService.Error(response.data);
                }
            });
        }
        $('#buttonTheme').click(function() {
            ThemeService.ApplyTheme(1).then(function (response) {
                $rootScope.theme.path = response.data;
            });
        });
        $('#buttonTheme1').click(function() {
            ThemeService.ApplyTheme(2).then(function (response) {
                $rootScope.theme.path = response.data;
            });
        });
    }
})();
(function () {
    'use strict';
    /**
     * @memberof app
     * @ngdoc controller
     * @name DemoSimpleModalController
     * @param $scope
     * @param $close Permit to define behavior to the closure
     * @description
     * Controller to implement a modal with a simple response (like yes or no)
     */
    angular
        .module('app')
        .controller('DemoSimpleModalController', DemoSimpleModalController);
    DemoSimpleModalController.$inject = ['$scope', 'close'];
    function DemoSimpleModalController($scope, close) {
        $scope.closeSimple = function(result) {
            close(result, 500); // close, but give 500ms for bootstrap to animate
        }
    }
    /**
     * @memberof app
     * @ngdoc controller
     * @name MediaModalController
     * @param SearchService
     * @param ModalService
     * @param MediaService
     * @param $scope
     * @param title
     * @param submitButton
     * @param cancelButton
     * @param close
     * @description
     * Controller to implement a modal which contain gallery of media
     */
    angular
        .module('app')
        .controller('MediaModalController', MediaModalController);
    MediaModalController.$inject = ['SearchService', 'ModalService', 'MediaService', '$scope', 'title', 'submitButton', 'cancelButton', 'close'];
    function MediaModalController(SearchService, ModalService, MediaService, $scope, title, submitButton, cancelButton, close) {
        $scope.title = title;
        $scope.submitButton = submitButton;
        $scope.cancelButton = cancelButton;
        $scope.Medias = [];
        $scope.fileLength = 20;
        $scope.offset= 0;
        $scope.MediaLibrary = undefined;
        $scope.mediaOld = [];
        $scope.numOpenModal = 0;
        $scope.workInProgress = false;
        $scope.searchMedia = "";
        /**
         * Initialize medialibrary
         * @memberof MediaModalController
         */
        InitController();
        function InitController(){
            $scope.mediaLibrary = new MediaLibrary();
        }
        /**
         * Select file when we click on image and return info about file and close modal
         * @memberof MediaModalController
         * @param {fileFactory} file
         */
        $scope.select = function(file){
            var result = [
                "select",
                file
            ];
            $scope.closeComplex(result);
        }
        /**
         * Permit to search specific files and display its
         * @memberof MediaModalController
         */
        $scope.Search = function (){
            if($scope.searchMedia === ""){
                $scope.Medias = $scope.mediaOld;
            }
            else {
                SearchService.Search($scope.searchMedia, {'services': ["MediaService"]}).then(function (response) {
                    if (response.success) {
                        $scope.Medias = [];
                        $scope.mediaLibraryTemp = new MediaLibrary();
                        angular.forEach(response.data, function (resp, id) {
                            if (resp.success && resp.data.results.length > 0) {
                                var fileFactory = new FileFactory();
                                angular.forEach(resp.data.results, function (file, id) {
                                    if ($scope.mediaLibraryTemp.GetLastFileCollection().IsFull() === true) {
                                        $scope.Medias.splice($scope.Medias.length - 1, 1);
                                        $scope.Medias.push($scope.mediaLibraryTemp.GetLastFileCollection().items);
                                        $scope.mediaLibraryTemp.PushNewFileCollection();
                                    }
                                    $scope.mediaLibraryTemp.GetLastFileCollection().AddItem(fileFactory.Create(file), $scope.fileLength);
                                });
                                if ($scope.mediaLibraryTemp.GetLastFileCollection().IsFull() == false) {
                                    if ($scope.offset == 0) {
                                        $scope.Medias.push($scope.mediaLibraryTemp.GetLastFileCollection().items);
                                    }
                                    else {
                                        if ($scope.mediaLibraryTemp.GetLastFileCollection().items != $scope.Medias[$scope.Medias.length - 1]) {
                                            $scope.Medias.push($scope.mediaLibraryTemp.GetLastFileCollection().items);
                                        }
                                    }
                                    if (Object.keys($scope.Medias[$scope.Medias.length - 1]).length != $scope.fileLength) {
                                        $scope.Medias.splice($scope.Medias.length - 1, 1);
                                        $scope.Medias.push($scope.mediaLibraryTemp.GetLastFileCollection().items);
                                    }
                                }
                                $scope.offset = $scope.offset + Object.keys($scope.Medias[$scope.Medias.length - 1]).length;
                            }
                        });
                    }
                });
            }
        }
        /**
         * Function call when we open modal, when we scroll or when we search specific file
         * @memberof MediaModalController
         */
        $scope.LoadMore = function (){
            if ($scope.workInProgress === true) {
                return;
            }
            $scope.workInProgress = true;
            if($scope.searchMedia == "") {
                MediaService.GetAllFiles($scope.fileLength, $scope.Medias.length).then(function (response) {
                    if (response.success === true && response.data.length > 0) {
                        var fileFactory = new FileFactory();
                        angular.forEach(response.data, function (file, id) {
                            if ($scope.mediaLibrary.GetLastFileCollection().IsFull() === true) {
                                $scope.Medias.splice($scope.Medias.length - 1, 1);
                                $scope.Medias.push($scope.mediaLibrary.GetLastFileCollection().items);
                                $scope.mediaLibrary.PushNewFileCollection();
                            }
                            $scope.mediaLibrary.GetLastFileCollection().AddItem(fileFactory.Create(file), $scope.fileLength);
                        });
                        if ($scope.mediaLibrary.GetLastFileCollection().IsFull() == false) {
                            if ($scope.offset == 0) {
                                $scope.Medias.push($scope.mediaLibrary.GetLastFileCollection().items);
                            }
                            else {
                                if ($scope.mediaLibrary.GetLastFileCollection().items != $scope.Medias[$scope.Medias.length - 1]) {
                                    $scope.Medias.push($scope.mediaLibrary.GetLastFileCollection().items);
                                }
                            }
                            if (Object.keys($scope.Medias[$scope.Medias.length - 1]).length != $scope.fileLength) {
                                $scope.Medias.splice($scope.Medias.length - 1, 1);
                                $scope.Medias.push($scope.mediaLibrary.GetLastFileCollection().items);
                            }
                        }
                        $scope.offset = $scope.offset + Object.keys($scope.Medias[$scope.Medias.length - 1]).length;
                        $scope.mediaOld = $scope.Medias;
                    }
                    $scope.workInProgress = false;
                });
            }
            else{
                SearchService.Search($scope.searchMedia, {'services': ["MediaService"]}).then(function (response) {
                    if (response.success) {
                        $scope.Medias = [];
                        $scope.mediaLibraryTemp = new MediaLibrary();
                        angular.forEach(response.data, function (resp, id) {
                            if (resp.success) {
                                if (resp.data.results.length > 0) {
                                    var fileFactory = new FileFactory();
                                    angular.forEach(resp.data.results, function (file, id) {
                                        if ($scope.mediaLibraryTemp.GetLastFileCollection().IsFull() === true) {
                                            $scope.Medias.splice($scope.Medias.length - 1, 1);
                                            $scope.Medias.push($scope.mediaLibraryTemp.GetLastFileCollection().items);
                                            $scope.mediaLibraryTemp.PushNewFileCollection();
                                        }
                                        $scope.mediaLibraryTemp.GetLastFileCollection().AddItem(fileFactory.Create(file), $scope.fileLength);
                                    });
                                    if ($scope.mediaLibraryTemp.GetLastFileCollection().IsFull() == false) {
                                        if ($scope.offset == 0) {
                                            $scope.Medias.push($scope.mediaLibraryTemp.GetLastFileCollection().items);
                                        }
                                        else {
                                            if ($scope.mediaLibraryTemp.GetLastFileCollection().items != $scope.Medias[$scope.Medias.length - 1]) {
                                                $scope.Medias.push($scope.mediaLibraryTemp.GetLastFileCollection().items);
                                            }
                                        }
                                        if (Object.keys($scope.Medias[$scope.Medias.length - 1]).length != $scope.fileLength) {
                                            $scope.Medias.splice($scope.Medias.length - 1, 1);
                                            $scope.Medias.push($scope.mediaLibraryTemp.GetLastFileCollection().items);
                                        }
                                    }
                                    $scope.offset = $scope.offset + Object.keys($scope.Medias[$scope.Medias.length - 1]).length;
                                }
                                $scope.workInProgress = false;
                            }
                        });
                    }
                });
            }
        }
        /**
         * Permit to upload a file when we click on upload button on modal media
         * @memberof MediaModalController
         */
        $scope.UploadFile = function (file){
            MediaService.UploadFile(file).then(function(response){
                if($scope.mediaLibrary.GetLastFileCollection().IsFull() == true){
                    $scope.mediaLibrary.PushNewFileCollection();
                    $scope.mediaLibrary.GetLastFileCollection().AddItem(fileFactory.Create(file), $scope.fileLength);
                    $scope.Medias.push($scope.mediaLibrary.GetLastFileCollection().items);
                }else{
                    $scope.mediaLibrary.GetLastFileCollection().AddItem(fileFactory.Create(file), $scope.fileLength)
                    $scope.Medias.splice($scope.Medias.length -1 , 1)
                    $scope.Medias.push($scope.mediaLibrary.GetLastFileCollection().items);
                }
                $scope.mediaOld = $scope.Medias;
            });
        }
        /**
         * Permit to display a modal detail when we click on edit button on media modal
         * @memberof MediaModalController
         * @param {fileFactory} file
         */
        $scope.showDetailsModal = function(file) {
            if( $scope.numOpenModal == 0) {
                $scope.numOpenModal = 1;
                ModalService.showModal({
                    templateUrl: "modal/modal-media-details-view.html",
                    controller: "DemoMediaDetailsModalController",
                    inputs: {
                        title: "File details",
                        submitButton: "OK",
                        cancelButton: "Cancel",
                        file: file
                    }
                }).then(function (modal) {
                    modal.element.modal();
                    $(".modal-content").mouseup(function (e){
                        $scope.numOpenModal = 0;
                    });
                    modal.close.then(function (result) {
                        $scope.numOpenModal = 0;
                        if(angular.isUndefined(result) == false) {
                            if (result[0] == "update") {
                                for (var i = 0; i &lt; $scope.Medias.length; i++) {
                                    if (result[1].id in $scope.Medias[i]) {
                                        $scope.Medias[i][result[1].id] = result[1];
                                        break;
                                    }
                                }
                            }
                            else if (result[0] == "delete") {
                                for (var j = 0; j &lt; $scope.Medias.length; j++) {
                                    if (result[1].id in $scope.Medias[j]) {
                                        delete $scope.Medias[j][result[1].id];
                                        break;
                                    }
                                }
                                var firstId = undefined;
                                for (var i = 0; i &lt; $scope.Medias.length; i++) {
                                    if (Object.keys($scope.Medias[i]).length &lt; $scope.fileLength) {
                                        firstId = undefined;
                                        if (angular.isUndefined($scope.Medias[i + 1]) == false) {
                                            for (var pro in $scope.Medias[i + 1]) {
                                                firstId = $scope.Medias[i + 1][pro].id;
                                                break;
                                            }
                                            $scope.Medias[i][firstId] = Object.clone($scope.Medias[i + 1][firstId]);
                                            delete $scope.Medias[i + 1][firstId];
                                        } else {
                                        }
                                    }
                                }
                            }
                        }
                    });
                });
            }
        }
        /**
         * function call when we close the modal
         * @memberof MediaModalController
         * @param {array} result contain type of action and file to display(it could be empty)
         */
        $scope.closeComplex = function(result) {
            close(result, 500);
            $('.modal-backdrop').remove();
        }
    }
    /**
     * @memberof app
     * @ngdoc controller
     * @name DemoComplexModalController
     * @param $scope
     * @param title
     * @param submitButton
     * @param cancelButton
     * @param close
     * @description
     * Controller to implement a complex modal
     */
    angular
        .module('app')
        .controller('DemoComplexModalController', DemoComplexModalController);
    DemoComplexModalController.$inject = ['$scope', 'title', 'submitButton', 'cancelButton', 'close'];
    function DemoComplexModalController($scope, title, submitButton, cancelButton, close) {
        $scope.title = title;
        $scope.submitButton = submitButton;
        $scope.cancelButton = cancelButton;
        $scope.name = null;
        $scope.age = null;
        $scope.closeComplex = function(result) {
            close(result, 500);
        }
    }
    /**
     * @memberof app
     * @ngdoc controller
     * @name DemoMediaDetailsModalController
     * @param SearchService
     * @param ModalService
     * @param MediaService
     * @param $scope
     * @param title
     * @param submitButton
     * @param cancelButton
     * @param close
     * @description
     * Controller to implement a detail modal
     */
    angular
        .module('app')
        .controller('DemoMediaDetailsModalController', DemoMediaDetailsModalController);
    DemoMediaDetailsModalController.$inject = ['MediaService', '$scope', 'title', 'submitButton', 'cancelButton', 'file', 'close'];
    function DemoMediaDetailsModalController(MediaService, $scope, title, submitButton, cancelButton, file, close) {
        $scope.title = title;
        $scope.submitButton = submitButton;
        $scope.cancelButton = cancelButton;
        $scope.file = file;
        /**
         * function call when we click on edit button of modal
         * @memberof DemoMediaDetailsModalController
         * @param {File} newFile
         * @param {fileFactory} oldFile
         */
        $scope.editFile = function (newFile,oldFile){
            MediaService.UpdateFile(newFile,oldFile).then(function(response){
                var fileFactory = new FileFactory();
                var file = fileFactory.Create(response.data);
                var result = [
                    "update",
                    file
                ];
                $scope.closeDetails(result);
            });
        }
        /**
         * function call when we delete a file
         * @memberof DemoMediaDetailsModalController
         * @param {fileFactory} file
         */
        $scope.deleteFile = function (file){
            var result = [
                "delete",
                file
            ];
            $scope.closeDetails(result);
        }
        /**
         * function call when we close the modal
         * @memberof DemoMediaDetailsModalController
         * @param {array} result contain type of action and file to display(it could be empty)
         */
        $scope.closeDetails = function(result) {
            close(result, 500);
        }
    }
})();</code></pre>
        </article>
        <!-- index.html -->
        <!-- class files -->
      </div>
      <footer style="clear:both">
        Documentation generated by
        <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.2</a>
        using
        <a href="https://github.com/allenhwkim/angular-jsdoc">Angular-JSDoc template</a>
      </footer>
    </div>
    <!--%= prettyJson %-->
    <script>
      prettyPrint();
      var lineNo = window.location.hash.match(/#line([0-9]+)$/);
      lineNo && document.querySelector("ol li:nth-child("+(lineNo[1])+")").scrollIntoView();
    </script>
  </body>
</html>